( function( $ ) {
	var buttonStyle, buttonScript;

	buttonStyle			= $( '#add-style' );
	buttonScript		= $( '#add-script' );

	buttonStyle.click( function( e ) {
		e.preventDefault();
		// Create a new row
		cloneRow( '#simple-cdn-styles' );
	} );

	buttonScript.click( function( e ) {
		e.preventDefault();
		// Create a new row
		cloneRow( '#simple-cdn-scripts' );
	} );

	function cloneRow( tableID ) {
		var $tableBody = $( tableID ).find( 'tbody' ),
			$rowLast = $tableBody.find( 'tr:last' ),
			$rowNew = $rowLast.clone();

		$rowNew.find( 'input:text, input:password, input:file, select, textarea' ).val('');
		$rowNew.find( 'input:radio, input:checkbox' )
			.removeAttr( 'checked' ).removeAttr( 'selected' );

		// Find all input elements in the row that have an ID, and iterate using each()
		var num = parseInt( $rowNew.find( 'td.handle input' ).prop( 'id' ).match(/\d+/g), 10 ) +1;
		$rowNew.find('input[id]').each( function() { 
			// Increment the id value
			var newID = $( this ).attr( 'id' ).replace( /\d+$/, num );
			$( this ).attr( 'id', newID );
			
			// Increment the name value
			var newName = $( this ).attr( 'name' ).replace(/\[(\d+)\]/, '[' + num + ']');
			$( this ).attr( 'name', newName );
		});
		$rowLast.after( $rowNew );
	}
} )( jQuery );